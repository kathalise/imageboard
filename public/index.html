<!doctype html>
<html>
<head>
    <title> 🏗 🏗 🏗 </title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <h1>BuiltBoard</h1>

    <!-- This container is for our VUE instance! -->
    <div id ="main">
    
        <div class="form-container">
        <form>
            <input v-model="title" type="text" name="title" placeholder="Building"/>
            <input v-model ="description" type="text" name="description" placeholder="City"/>
            <input v-model="username" type="text" name="username" placeholder="Username"/>

            <input class="file-upload" @change="handleChange" type="file" name="file" accept="image/*"/>

            <button @click="handleClick">Submit</button>
        </form>
        </div>
    
    <div class="container">
    <div v-for="each in images" class="frame">
        <a :href="'#' + each.id">
                
        <img :src="each.url" alt="image">
            <div class="caption">
            <p>{{ each.description }} <br></nr><em>© {{  each.username }}</em></p>
            </div>
        </a>
    </div>
    <button id="more" @click="loadMoreImages">More</button>
    </div>


    <my-modal v-if="id" :id ="id" @close="closeMe" @delete="deleteMe" @delete-comment="deleteComments"></my-modal>
    </div>

    <script id="modal-template" type="text/x-template">
    <div class="overlay">
    <div class="component">
        <div class="inside-component">    
            <h3>«{{title}}» <br> {{ description }}
                
            </h3>
    <div class="smallImageContainer">
            <img clas="small-img" :src="url">
    </div>
    <h1 class="closeX" @click="closeModal">✕</h1>
    <form>
    <input v-model="username" type="text" name="username" placeholder="Username"/>
    <input v-model="comment" type="text" name="comment" placeholder="Leave a comment"/>
    <button @click="addComment">Submit</button>
    </form>


    
</div>

<div class ="commentbox-container">
<div v-for="each in comments" class="commentbox">
    <p class="time">{{each.created_at}}</p><p><em>{{each.username}}:</em> «{{each.comment}}»</p>
    <button id="deleteComments" @click="deleteComments">Delete Comment</button>
</div>
</div>
<button id="delete" @click="deleteImage">Delete Image</button>
</div>
    </div>
    </div>
    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
